




{% extends 'base.html' %}
{% block body_block %}
{% load static %}
<style>
    * {
    margin: 0;
    padding: 0;
    }

    body {
        background-color: #e2e2e2;
    }

    .g-mt20 {
        margin-top: 2.67vw;
    }

    .f-tc {
        text-align: center;
    }

    .u-tit {
        font-size: 16px;
        font-weight: normal;
    }

    .u-part {
        padding: 2.67vw 0; 
        height: 50vw;
        background-color: #fff;
    }

</style>

<!DOCTYPE html>
<html>
<head>

  <script src="//s.thsi.cn/ijijin/js/FundCharts.newest.js?20190920"></script>
    <title>FundCharts-BarChart</title>

</head>
<body>
    <div id="app">
        <h3 class="f-tc u-tit">chart</h3>
        <section id="bar1" class="u-part"></section>
    </div>
</body>
</html> 

<script>
const BarChart = FundCharts.bar;

const ua = navigator.userAgent.toLowerCase(),
    IS_PHONE = ~ua.indexOf('iphone') || ~ua.indexOf('android'),
    events = IS_PHONE ? ['touchstart', 'touchmove'] : ['mousemove'];

// chart 1
const chart1 = new BarChart({
    id: 'bar1',
    xaxis: ['Clients', 'Projects', 'Task', 'Bid', 'Invoice', 'Contract', 'Proposal', 'Team Member'],
    datas: [
    [2, 5, 3, 7, 3.2, 4, 5]
    ],
    events: events,    // for pc
    hover: function (index, yValues, xValues, x) {
        console.log(index, yValues, xValues, x);
        
        var ctx = chart1.ctx;
        var datasets = chart1.datasets[0];
        var _zero = chart1.drawer.zeroY;	

        ctx.lineWidth = 1;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.font = '12px Arial';
        ctx.fillStyle = '#000';
        ctx.fillText(
            yValues[0].toFixed(1), 
            datasets[index].x + 6,
            datasets[index].y + 10 * (datasets[index].y > _zero && 1 || -1)
        );
    }
});

chart1.init();

setTimeout(function () {
  chart1.update({
    datas: [
    [2, 5, 3, 7, 3.2, 4, 5]
    ]
  })
}, 2000);

</script>


{% endblock %}
{% block script_block %}

{% endblock %}